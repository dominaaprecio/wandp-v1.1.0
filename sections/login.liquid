<style>
  #CustomerLoginForm, #RecoverPasswordForm{
    max-width: 400px;
    width: 100%;
    margin: 0;
  }
  #HideRecoverPasswordLink { padding: 0; }
  #HideRecoverPasswordLink svg {
    width: 24px;
    height: auto;
  }

  #CustomerLoginForm input, #RecoverPasswordForm input{
    display: block;
    width: 100%;
    margin-bottom: 10px;
  }

  #CustomerLoginForm label, #RecoverPasswordForm label{
    margin: 20px 0 5px 0;
    font-weight: 900;
    display: block;
  }


  #CustomerLoginForm h3{
    width: 100%;
    display: block;
    text-align: center;
  }

  #RecoverPassword{
    width: 100%;
    text-align: right;
    display: block;
    margin-bottom: 20px;
    font-style: italic;
  }
</style>
<section class="account account-login pad-y">
  <div class="wrap wrap--max" data-aos-delay="1200" data-aos="fade-up" data-aos-duration="1500">
    <div class="form-success hide" id="ResetSuccess">
      {{ 'customer.recover_password.success' | t }}
    </div>

    <div id="CustomerLoginForm">
      {% form 'customer_login' %}
        {% if section.settings.page_title != blank %}
          <h1>{{ section.settings.page_title }}</h1>
        {% else %}
          <h1>{{ 'customer.login.title' | t }}</h1>
        {% endif %}

        {{ form.errors | default_errors }}

        <label for="CustomerEmail" class="label">
          {{ 'customer.login.email' | t }}
        </label>
        <input type="email"
               name="customer[email]"
               id="CustomerEmail"
               class="{% if form.errors contains 'email' %}input-error{% endif %}"
               placeholder="{{ 'customer.login.email' | t }}"
               spellcheck="false"
               autocomplete="off"
               autocapitalize="off"
               autofocus>

        {% if form.password_needed %}
          <label for="CustomerPassword" class="label">
            {{ 'customer.login.password' | t }}
          </label>
          <input type="password"
                 name="customer[password]"
                 id="CustomerPassword"
                 class="{% if form.errors contains 'password' %}input-error{% endif %}"
                 placeholder="{{ 'customer.login.password' | t }}">
        {% endif %}
        <a href="#recover" id="RecoverPassword">{{ 'customer.login.forgot_password' | t }}</a>
        {% if cart.item_count > 0 %}
        <input type="hidden" name="return_to" value="/checkout" />
        {% endif %}
        <button type="submit" class="cta-solid cta-solid--block">{{ 'customer.login.sign_in' | t }}</button>

        {% if form.password_needed %}
        {% endif %}
      {% endform %}

    </div>
    <div id="RecoverPasswordForm" class="hide">
      <div class="pad-y">
        <div class="right text-right">
          <button class="btn btn--trans" id="HideRecoverPasswordLink">
            {% include 'icon-close' %}
            <span class="visually-hidden">Close</span>
          </button>
        </div>
        <h2>{% comment %}{{ 'customer.recover_password.title' | t }}{% endcomment %}Reset Your Password</h2>
        <p>{{ 'customer.recover_password.subtext' | t }}</p>
        <div class="clearfix"></div>
        {% form 'recover_customer_password' %}
          {{ form.errors | default_errors }}

          {% if form.posted_successfully? %}
            <span class="hide reset-password-success"></span>
          {% endif %}

          <label for="RecoverEmail" class="label-hidden">
            {{ 'customer.recover_password.email' | t }}
          </label>
          <input type="email"
                 name="email"
                 id="RecoverEmail"
                 placeholder="{{ 'customer.recover_password.email' | t }}"
                 spellcheck="false"
                 autocomplete="off"
                 autocapitalize="off">

          <button type="submit" class="cta-solid cta-solid--block">{{ 'customer.recover_password.submit' | t }}</button>

        {% endform %}
      </div>
    </div>
    <div class="text-center pad-y" style="max-width: 400px;">
      <p>Don't have an account?</p>
      <a class="cta-arrow cta-arrow--big" href="/account/register">
        Create Account
      </a>
    </div>

  </div>
</section>

<script>
  if(window.location.hash) {
      var hash = window.location.hash.substring(1); //Puts hash in variable, and removes the # character
      if(hash === 'checkout') {
        $("<input/>", {
          type: "hidden",
          name: "checkout_url",
          value: "/checkout"
        }).appendTo("#customer_login");
      }
      // hash found
  } else {
      // No hash found
  }
</script>

{% schema %}
  {
    "name": "Login",
    "settings": [
      {
        "type": "text",
        "id": "page_title",
        "label": "Page Title"
      }
    ]

  }
{% endschema %}